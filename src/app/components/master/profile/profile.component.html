<div class="container">
  <!-- Row Wrapper Vertically Center-align all Items -->
  <div class="row align-items-center">

    <!-- Profile ID Field -->
<div class="col-md-4">
    <mat-form-field class="full-width">
        <mat-label>Profile Id</mat-label>
        <input type="number" readonly disabled matInput [(ngModel)]="profileForm.id"/>
    </mat-form-field>
</div>

<!-- Profile Name Field -->
<div class="col-md-4">
    <mat-form-field class="full-width">
        <mat-label>Profile Name</mat-label>
        <input matInput [(ngModel)]="profileForm.profileName"/>
    </mat-form-field>
</div>

<!-- Save / Cancel Buttons -->
<div class="col-md-4 d-flex  justify-content-start align-items-center">
  <button mat-stroked-button color="primary" (click)="editMode ? onUpdate() : onSave()">{{editMode ? 'Update' : 'Save'}}</button>
  <button mat-flat-button color="warn" class="m-l-10" (click)="onCancel()">Cancel</button>
</div>

    <div class="row" *ngIf="editMode || viewMode">
      <!-- Left Panel: Module List View -->
      <div class="col-md-6">
        <mat-card>
          <mat-card-title>
            <input class="checkbox-size me-3" (change)="checkboxRecursion($event)" type="checkbox" id="selectAllModule" />
            <label for="selectAllModule">Module List View</label>
          </mat-card-title>
          <table class="table">
            <thead>
              <tr>
                <th></th>
                <th>Add</th>
                <th>Delete</th>
                <th>Edit</th>
                <th>View</th>
              </tr>
            </thead>
            <tbody> 
              <tr *ngFor="let module of moduleList" #ModuleList>
                <td>
                  <input data-parent-id="selectAllModule" (change)="checkboxRecursion($event)" value="{{module.name}}" id="{{'module' + module.moduleId}}" class="checkbox-size me-3" type="checkbox" />
                  <label for="{{'module' + module.moduleId}}">{{module.name}}</label>
                </td>
                <td>
                  <input data-permission-type="moduleList" attr.data-parent-id="{{'module' + module.moduleId}}" (change)="checkboxRecursion($event)" value="canInsert" [checked]="module.canInsert" class="checkbox-size" type="checkbox"/>
                </td>
                <td>
                  <input data-permission-type="moduleList" attr.data-parent-id="{{'module' + module.moduleId}}" (change)="checkboxRecursion($event)" value="canUpdate" [checked]="module.canUpdate" class="checkbox-size" type="checkbox"/>
                </td>
                <td>
                  <input data-permission-type="moduleList" attr.data-parent-id="{{'module' + module.moduleId}}" (change)="checkboxRecursion($event)" value="canDelete" [checked]="module.canDelete" class="checkbox-size" type="checkbox"/>
                </td>
                <td>
                  <input data-permission-type="moduleList" attr.data-parent-id="{{'module' + module.moduleId}}" (change)="checkboxRecursion($event)" value="canView" [checked]="module.canView" class="checkbox-size" type="checkbox"/>
                </td>
              </tr>
            </tbody>
          </table>
        </mat-card>
      </div>
  
      <!-- Right Panel: Report -->
      <div class="col-md-6">
        <mat-card>
          <mat-card-title>
            <input class="checkbox-size me-3" (change)="checkboxRecursion($event)" type="checkbox" id="selectAllReport" />
            <label for="selectAllReport">Report</label>
          </mat-card-title>
          <table class="table">
            <thead>
              <tr>
                <th></th>
                <th></th>
              </tr>
            </thead>
            <tbody> 
              <tr *ngFor="let report of reportList" #ReportList>
                <td>
                  <label>{{report.name}}</label>
                </td>
                <td>
                  <input data-permission-type="reportList" data-parent-id="selectAllReport" (change)="checkboxRecursion($event)" [checked]="report.canView" value="{{report.moduleId}}" class="checkbox-size" type="checkbox" />
                </td>
              </tr>
            </tbody>
          </table>
        </mat-card>
      </div>

      <!--Save Buttton  -->
      <div class="mt-3">
        <button mat-raised-button color="primary" (click) = "savePermissions()">Save</button>
      </div>
    </div>
  </div>
  </div>
  